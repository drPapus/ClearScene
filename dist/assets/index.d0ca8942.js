import{G as e,a as t,T as n,M as s,b as o,B as i,c as a,d as r,P as c,H as d,D as l,S as u,C as p,A as m,e as w,O as h,W as g,f as y,V as f}from"./vendor.8c004d04.js";function _(){const e=new t([]),c=new n(e,150,3,32,!0),d=new s({map:(new o).load("/assets/img/galaxyTexture.jpg"),side:i});d.map.wrapS=a,d.map.wrapT=a,d.map.repeat.set(30,4);const l=new r(c,d);return l.position.set(0,0,0),console.log("Tube!"),l}const b=(e,t,n)=>{t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),n.setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio)};class x{constructor(e,t,n){b(e,t,n),window.addEventListener("resize",(()=>{b(e,t,n),this.onResize()}))}onResize(){}}const L=new y;class k{constructor(e,t,n){this.camera=e,this.scene=t,this.renderer=n,this.updatables=[]}start(){this.renderer.setAnimationLoop((()=>{this.tick(),this.renderer.render(this.scene,this.camera)}))}stop(){this.renderer.setAnimationLoop(null)}tick(){const e=L.getDelta();for(const t of this.updatables)t.tick(e)}}let v,S,A,E;class P{constructor(e){v=function(){const e=new c(45,2,.1,1e3);e.position.set(0,0,10);const t=_();let n=0;return e.tick=()=>{n+=3e-4;let s=t.geometry.parameters.path.getPointAt(n%1),o=t.geometry.parameters.path.getPointAt((n+.01)%1);e.position.set(s.x,s.y,s.z),e.lookAt(o)},e}(),S=function(){const e=new g({antialias:!0});return e.physicallyCorrectLights=!0,e}(),A=function(){const e=new u;return e.background=new p("lightblue"),e}(),E=new k(v,A,S),e.append(S.domElement),function(e,t){const n=new h(e,t);n.enabled=!1,n.tick=()=>n.update()}(v,S.domElement);const{ambientLight:t,mainLight:n}=function(){const e=new d("white","darkslategrey",5),t=new l("white",5);return t.position.set(10,10,10),{ambientLight:e,mainLight:t}}();E.updatables.push(v),A.add(t,n),new x(e,v,S),A.add(function(){const e=new m(30);return e.position.set(-3.5,0,-3.5),e}(),new w(60))}async init(){const{human:t}=await async function(){const t=new e,[n]=await Promise.all([t.loadAsync("/assets/models/human.glb")]);return console.log("Human!",n),{human:n.scene.children[0]}}(),n=_();t.tick=e=>{const n=new f(0,-3,-5);n.applyMatrix4(v.matrixWorld);const s=t.position.distanceTo(n);if(t.lookAt(v.position),s>0){const o=Math.min(1e3*e,s)/s;t.position.lerp(n,o)}},E.updatables.push(t),A.add(n,t)}render(){S.render(A,v)}start(){E.start()}stop(){E.stop()}}(async function(){const e=document.querySelector("#scene-container"),t=new P(e);await t.init(),t.render(),t.start()})().catch((e=>{console.error(e)}));let T=0;window.addEventListener("load",(function(){let e=document.getElementById("preloader");e.classList.add("hide-preloader"),setInterval((function(){e.classList.add("preloader-hidden")}),3e3)})),window.addEventListener("load",(function(){if(0==T){let s=function(){t>=100?(clearInterval(n),T=0):(t++,e.style.width=t+"%")};T=1;var e=document.getElementById("preloader__progress"),t=1,n=setInterval(s,30)}})),document.querySelector(".menu__title__opener").onclick=function(){let e=document.querySelector(".sidenav__main__block");e.style.width="0px"===window.getComputedStyle(e).width?"calc(653px + (1632 - 653) * ((100vw - 768px) / (1920 - 768)))":"0px",document.querySelector(".menu__title__opener").innerHTML="0px"===window.getComputedStyle(e).width?"close":"menu"};
